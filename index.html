<!DOCTYPE html>
<html>
  <head>
    <title>Team Codename Presents...</title>
    <meta name="description" content="Hello, WebVR! - A-Frame">
    <script src="https://aframe.io/releases/0.5.0/aframe.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v3.13.1/dist/aframe-extras.min.js"></script>
    <script src="https://unpkg.com/super-hands@3.0.0/dist/super-hands.min.js"></script>
    <script src="./js/drag-and-drop.js"></script>

    <!-- one possible control schema: https://aframe.io/docs/0.8.0/guides/building-a-minecraft-demo.html#adding-hand-controllers -->
  
  </head>
  <body>
    <a-scene physics>
      <a-assets>
        <img id="wallpaper" src="https://cdn.glitch.com/81f6e8d1-c891-43ef-8d08-aab8781327e8%2F81f6e8d1-c891-43ef-8d08-aab8781327e8%252Fbackground%20flowers.png?1541264835165">  
        
        <!-- that sample table -->
        <a-asset-item id="obj1" src="MCRW5847_v6_LOD2.obj"></a-asset-item>
        <a-asset-item id="mtl1" src="MCRW5847_v6_LOD2.mtl"></a-asset-item>
        
        <img id="rug" src="https://cdn.glitch.com/81f6e8d1-c891-43ef-8d08-aab8781327e8%2F81f6e8d1-c891-43ef-8d08-aab8781327e8%252FTexturesCom_FloorsMarble0014_M.jpg?1541264834178">    
        <a-asset-item id="sofa_obj" src="sofa.obj"></a-asset-item>
        <a-asset-item id="sofa_mtl" src="sofa.mtl"></a-asset-item> 
        <a-asset-item id="sofa" src="https://cdn.glitch.com/81f6e8d1-c891-43ef-8d08-aab8781327e8%2FAchilles%20Sofa.obj?1541220669865"></a-asset-item>  
      
        <!-- Quinten Slipper Chair -->
        <a-asset-item id="batch2obj1" src="MCRW1865_v6_LOD2.obj"></a-asset-item>
        <a-asset-item id="batch2mtl1" src="MCRW1865_v6_LOD2.mtl"></a-asset-item>
        
        <!-- Rutherford Ladder Bookcase -->
        <a-asset-item id="batch2obj2" src="ZIPC1380_v6_LOD2.obj"></a-asset-item>
        <a-asset-item id="batch2mtl2" src="ZIPC1380_v6_LOD2.mtl"></a-asset-item>
        
        <!-- Quintus Dining Chair (get a load of this chair!!!) -->
        <a-asset-item id="batch2obj3" src="LGLY6534_v6_LOD2.obj"></a-asset-item>
        <a-asset-item id="batch2mtl3" src="LGLY6534_v6_LOD2.mtl"></a-asset-item>
        
        <!-- Royal Palm Beach Solid Wood Dining Chair -->
        <a-asset-item id="batch1obj4" src="BRWT1400_v6_LOD2.obj"></a-asset-item>-
        <a-asset-item id="batch1mtl4" src="BRWT1400_v6_LOD2.mtl"></a-asset-item>
        
        <!-- Silvis Coffee Table -->
        <a-asset-item id="batch1obj5" src="LFMF1830_v6_LOD2.obj"></a-asset-item>
        <a-asset-item id="batch1mtl5" src="LFMF1830_v6_LOD2.mtl"></a-asset-item>
        
        <!-- Scipio Ottoman (very fancy ottoman) -->
        <a-asset-item id="batch3obj1" src="THRE3819_v6_LOD2.obj"></a-asset-item>
        <a-asset-item id="batch3mtl1" src="THRE3819_v6_LOD2.mtl"></a-asset-item>
        
        <!-- Seguin Coffee Table -->
        <a-asset-item id="batch3obj2" src="ORNE9301_v6_LOD2.obj"></a-asset-item>
        <a-asset-item id="batch3mtl2" src="ORNE9301_v6_LOD2.mtl"></a-asset-item>        
        
        <!-- Sheryl Dinner Table -->
        <a-asset-item id="batch3obj3" src="LGLY5881_v6_LOD2.obj"></a-asset-item>
        <a-asset-item id="batch3mtl3" src="LGLY5881_v6_LOD2.mtl"></a-asset-item>       
      
        <!-- Sigler Cocktail Ottoman (basically a big brownie) -->
        <a-asset-item id="batch4obj1" src="TRNT1677_v6_LOD2.obj"></a-asset-item>
        <a-asset-item id="batch4mtl1" src="TRNT1677_v6_LOD2.mtl"></a-asset-item>
        
        <!-- Simmons Upholstery Hattiesburg Sterling Sofa -->
        <a-asset-item id="batch4obj2" src="TRPT4018_v6_LOD2.obj"></a-asset-item>
        <a-asset-item id="batch4mtl2" src="TRPT4018_v6_LOD2.mtl"></a-asset-item>
       
        <!-- Sirine Ottoman -->
        <a-asset-item id="batch4obj3" src="LARK2659_v6_LOD2.obj"></a-asset-item>
        <a-asset-item id="batch4mtl3" src="LARK2659_v6_LOD2.mtl"></a-asset-item>

        <!-- Smith Armchair -->
        <a-asset-item id="batch4obj4" src="ANDO1549_v6_LOD2.obj"></a-asset-item>
        <a-asset-item id="batch4mtl4" src="ANDO1549_v6_LOD2.mtl"></a-asset-item>
        
        <!-- Smithtown Area Rug -->
        <a-asset-item id="batch5obj1" src="ANDO4889_v6_LOD2.obj"></a-asset-item>
        <a-asset-item id="batch5mtl1" src="ANDO4889_v6_LOD2.mtl"></a-asset-item>
        
        <a-asset-item id="teacupobj" src="teacup.obj"></a-asset-item>
        <a-asset-item id="teacupmtl" src="teacup.mtl"></a-asset-item>
               
       <audio id="move-sound" src="https://cdn.glitch.com/81f6e8d1-c891-43ef-8d08-aab8781327e8%2Fforest%20sigh%20whack.mp3?1541280508056" preload="auto"></audio>
        
      </a-assets>
      
      <a-entity light="type: ambient; intensity: 0.8;"></a-entity>
      
      <a-entity light="type: directional;
                   castShadow: true;
                       color: 180,151,255;
                   intensity: 0.4;
                   shadowCameraVisible: true;"
            position="-5 8 1.5"></a-entity>
      <a-entity camera look-controls wasd-controls position="0 2 0">
      </a-entity>
      
         <a-camera position="0 1 0">
        <a-cursor color="#FF0000"></a-cursor>
      </a-camera>
      
      <a-obj-model id="test1" rotation = "0 90 0" scale="0.02 0.02 0.02" position="1.4 -0.01 -12" src ="#obj1" mtl="#mtl1" dynamic-body click-drag>
        <a-animation easing="linear" attribute="rotation" dur="10000" to="0 90 360" repeat="indefinite" begin="click"></a-animation>
      </a-obj-model>
     
      
      <a-obj-model id="test2" rotation = "0 90 0" scale="0.02 0.02 0.02" position="1.4 -0.01 -2" src ="#batch2obj3" mtl="#batch2mtl3" dynamic-body click-drag>
        <a-animation easing="linear" direction="alternate"  attribute="rotation" dur="5000" to="0 360 0" repeat="indefinite" begin="click"></a-animation>
      </a-obj-model>
      
      <a-obj-model id="test3" rotation = "0 90 0" scale="0.01 0.01 0.01" position="0 0.51 -2" src ="#batch2obj1" mtl="#batch2mtl1" dynamic-body click-drag>
        <a-animation easing="linear" attribute="rotation" direction="alternate" dur="20000" to="360 0 360" repeat="indefinite" begin="click"></a-animation>
      </a-obj-model>
      
      <a-obj-model id="test3-1" rotation = "0 90 0" scale="0.01 0.01 0.01" position="-1 2.5 -5" src ="#batch3obj1" mtl="#batch3mtl1" dynamic-body click-drag>
        <a-animation easing="linear" attribute="rotation" dur="20000" to="360 0 360" repeat="indefinite" begin="click"></a-animation>
      </a-obj-model>
   
      
      <!-- gurgly sound -->
      <a-entity sound="src: url(https://cdn.glitch.com/81f6e8d1-c891-43ef-8d08-aab8781327e8%2Fwhack%20gurgly.mp3?1541280508666); autoplay: true; loop: true; rolloffFactor: 0.3; volume: 01">
        <a-obj-model id="test4" rotation = "0 -90 0" scale="0.01 0.01 0.01" position="3 -0.01 -2" src ="#batch1obj1" mtl="#batch1mtl1" dynamic-body click-drag></a-obj-model>
      </a-entity>
      
      <!-- sipping sound --> 
    
      <a-entity sound="src: url(https://cdn.glitch.com/81f6e8d1-c891-43ef-8d08-aab8781327e8%2Fslurp%20coffee%20space%201.mp3?1541301386911); autoplay: true; loop: true; refDistance: 0.3; rolloffFactor: 0.3; volume: 0.2">
        <a-obj-model id="teacup"  rotation = "0 -90 0" scale="0.5 0.3 0.5" position="5 -0.01 -4" src ="#teacupobj" mtl="#teacupmtl" dynamic-body click-drag></a-obj-model>
      <a-animation easing="ease-in-circ" direction= "alternate" attribute="rotation" dur="20000" to="360 0 360" repeat="indefinite" begin="click"></a-animation>
      </a-entity>
      
      <!-- Thud sound -->
  
      <a-entity sound="src: urk(https://cdn.glitch.com/81f6e8d1-c891-43ef-8d08-aab8781327e8%2Fscratch%20move%20muffled.mp3?1541291396371); autoplay: true; loop: false; refDistance: 0.4; rolloffFactor: 0.8; volume: 1.7">
        <a-obj-model id="chaise" rotation = "0 0 0" scale="0.01 0.01 0.01" position="4 -0.01 -14.5" src ="#batch2obj2" mtl="#batch2mtl2" dynamic-body click-drag></a-obj-model> 
         <a-animation easing="ease-in-circ" direction= "alternate" attribute="rotation" dur="20000" to="360 0 360" repeat="indefinite" begin="click"></a-animation>
      </a-entity>
      
      <!-- Bowl chant song -->
      <a-entity sound="src: url(https://cdn.glitch.com/81f6e8d1-c891-43ef-8d08-aab8781327e8%2Fbowl%20chant%20song_mixdown.mp3?1541291396644); autoplay: true; loop:true; refDistance: 0.5; rolloffFactor: 0.4; volume: 4">
        <a-obj-model id="test6" rotation = "0 60 0" scale="0.01 0.01 0.01" position="-4 -0.01 -10.5" src ="#batch1obj4" mtl="#batch1mtl4" dynamic-body click-drag></a-obj-model>
      <a-animation easing="linear" attribute="rotation" dur="20000" to="360 0 360" repeat="indefinite" begin="click"></a-animation>
      </a-entity>
      
      <!-- Forest Sound -->
      <a-entity sound="src: url(https://cdn.glitch.com/81f6e8d1-c891-43ef-8d08-aab8781327e8%2Fforest%20sighs%20less%20scary%204%20whack.mp3?1541291396350); autoplay: true; loop: true; rolloffFactor: 1.2; volume: 0.07">
         <a-obj-model id="picnic-table" rotation = "0 -30 0"  scale="0.01 0.01 0.01" position="4 -0.01 1.5" src ="#batch1obj5" mtl="#batch1mtl5" dynamic-body click-drag></a-obj-model>
         <a-animation property="scale" from="0.01 0.01 0.01" to="0.015 0.015 0.015" dur="3000" begin="click"></a-animation>
      </a-entity>
      
      
      <a-obj-model id="seguin" rotation = "0 -30 0"  scale="0.01 0.01 0.01" position="-1 2 5" src ="#batch3obj2" mtl="#batch3mtl2" dynamic-body click-drag>
        <a-animation easing="linear" attribute="rotation" from="0 0 0" to="0 -360 -360" dur="10000" repeat="indefinite" begin="click"></a-animation>
      </a-obj-model>      
      
      <!-- news -->
      
      <a-entity sound="src: url(https://cdn.glitch.com/81f6e8d1-c891-43ef-8d08-aab8781327e8%2Fwhack%20news.mp3?1541320484765); autoplay: true; loop: true rolloffFactor: 20; refDistance: 12; volume:0.06">
      <a-obj-model id="geo" rotation = "0 -30 0"  scale="0.01 0.01 0.01" position="4 -0.01 -10.5" src ="#batch3obj3" mtl="#batch3mtl3" dynamic-body click-drag>
        <a-animation easing="linear" attribute="position" direction = "alternate" from="4 -0.01 -10.5" to="0 6 -6" dur="10000" repeat="indefinite" begin="click"></a-animation>
      </a-obj-model>
      </a-entity>
      
      <a-entity sound="src: url(https://cdn.glitch.com/81f6e8d1-c891-43ef-8d08-aab8781327e8%2Fla%20di%20da%204.mp3?1541297977541); autoplay: true; loop: true; rolloffFactor: 10; refDistance: 0.06; volume: 0.06">
      <a-obj-model id="4-1" rotation = "0 -30 0"  scale="0.01 0.01 0.01" position="-9 -0.01 -9.5" src ="#batch4obj1" mtl="#batch4mtl1" dynamic-body click-drag>
        <a-animation easing="linear" direction="alternate" attribute="rotation" dur="25000" to="0 -360 0" repeat="indefinite" begin="click"></a-animation>
      </a-obj-model>
      </a-entity>
      
      <a-entity sound="src: url(https://cdn.glitch.com/81f6e8d1-c891-43ef-8d08-aab8781327e8%2Fsweep.mp3?1541296780741); autoplay: true; loop:true; rolloffFactor: 12; refDistance: 10; volume:0.03">
      <a-obj-model id="4-2" rotation = "0 -30 0"  scale="0.03 0.03 0.03" position="-5 -0.01 -.5" src ="#batch4obj2" mtl="#batch4mtl2" dynamic-body click-drag>
        <a-animation easing="linear" direction="alternate" attribute="rotation" dur="30000" to="-360 0 0" repeat="indefinite" begin="click"></a-animation>
      </a-obj-model>
      </a-entity>
      
      <a-obj-model id="4-3" rotation = "0 -30 0"  scale="0.01 0.01 0.01" position="-4 0.51 -6.5" src ="#batch4obj3" mtl="#batch4mtl3" dynamic-body click-drag>
        <a-animation easing="linear"  attribute="rotation" direction="alternate" dur="5000" to="-360 0 0" repeat="indefinite" begin="click"></a-animation>
      </a-obj-model>
  
      <a-obj-model id="4-4" rotation = "0 -30 -30"  scale="0.01 0.01 0.01" position="2 -0.01 -6.5" src ="#batch4obj4" mtl="#batch4mtl4" dynamic-body click-drag>
        <a-animation easing="linear"  attribute="position" direction="alternate" dur="2000" from= "2 5.5 -6.5" to="2 6 -6.5" repeat="indefinite" begin="click"></a-animation>
      </a-obj-model>
    
      
      <a-obj-model id="4-5" scale="0.01 0.01 0.01" position="0 -0.01 0" src ="#batch5obj1" mtl="#batch5mtl1" dynamic-body click-drag>
        <a-animation easing="ease-in-back-elastic"  attribute="scale" direction="alternate" dur="5000" from= "0.01 0.01 0.01" to="0.03 0.01 0.03" repeat="indefinite" begin="click"></a-animation>
      </a-obj-model>
            
      <!-- walls -->
      <a-box src="https://cdn.glitch.com/81f6e8d1-c891-43ef-8d08-aab8781327e8%2Fpink%20clouds2.png?1541296635158" depth="40" height="40" width="0.5" position="12 0 4"></a-box>
      <a-box src="https://cdn.glitch.com/81f6e8d1-c891-43ef-8d08-aab8781327e8%2Fpink%20clouds2.png?1541296635158" depth="40" height="40" width="0.5" position="-15 0 4"></a-box>
      <a-box src="https://cdn.glitch.com/81f6e8d1-c891-43ef-8d08-aab8781327e8%2Fpink%20clouds2.png?1541296635158" depth="0.5" height="40" width="40" position="4 0 10"></a-box>
      
      
      <a-sphere id="water_sphere" src="https://cdn.glitch.com/81f6e8d1-c891-43ef-8d08-aab8781327e8%2FTexturesCom_WaterPlain0019_1_M.jpg?1541292043972" height="12" width = "12" position= "4 5 10" opacity="0.78">
      <a-animation easing="linear"  attribute="rotation" direction="alternate" dur="5000" to="-360 0 0" repeat="indefinite" begin="click"></a-animation>
      </a-sphere>
      
      <a-sphere id = "teal flowers" src="https://cdn.glitch.com/81f6e8d1-c891-43ef-8d08-aab8781327e8%2FTexturesCom_FlowersDried0025_1_alphamasked_S.png?1541332693844" height="11" width = "11" position= "10 3 -12" opacity="0.8">
      <a-animation easing="linear"  attribute="rotation" direction="alternate" dur="5000" to="-360 0 0" repeat="indefinite" begin="click"></a-animation>
      </a-sphere>
      
      <a-sphere id="orange flowers" src="https://cdn.glitch.com/81f6e8d1-c891-43ef-8d08-aab8781327e8%2FTexturesCom_Flowers0013_1_alphamasked_S.png?1541328383173" height="12" width = "12" position= "-3 0.8 -2" opacity="0.6">
      <a-animation easing="ease-out-circ"  attribute="rotation" direction="alternate" dur="5000" to="-360 0 0" repeat="indefinite" begin="click"></a-animation>
      </a-sphere>
      
      <a-sphere id="?" src="https://cdn.glitch.com/81f6e8d1-c891-43ef-8d08-aab8781327e8%2FTexturesCom_Flowers0094_1_alphamasked_S.png?1541327053407" height="12" width = "12" position= "6 7 4" opacity="0.6" >
      <a-animation easing="ease-circ" attribute="rotation" direction="alternate" dur="5000" to="360 0 0" repeat="indefinite" begin="click"></a-animation>
     </a-sphere>
      
      <a-sphere src="https://cdn.glitch.com/81f6e8d1-c891-43ef-8d08-aab8781327e8%2FTexturesCom_Flowers0094_1_alphamasked_S.png?1541327053407" height="12" width = "12" position= "4 -0.01 -10.5" opacity="0.6" >
      <a-animation easing="ease-circ" attribute="rotation" direction="alternate" dur="5000" to="360 0 0" repeat="indefinite" begin="click"></a-animation>
     </a-sphere>
      
      <a-sphere id="white and blue flower" src="https://cdn.glitch.com/81f6e8d1-c891-43ef-8d08-aab8781327e8%2FTexturesCom_Flowers0038_1_alphamasked_S.png?1541331078270" height="11" width = "11" position= "5 1.5 -3" opacity="0.8">
      <a-animation easing="linear"  attribute="rotation" direction="alternate" dur="5000" to="-360 0 0" repeat="indefinite" begin="click"></a-animation>
      </a-sphere>
      
      <a-sphere id="blotty magenta flowers" src="https://cdn.glitch.com/81f6e8d1-c891-43ef-8d08-aab8781327e8%2FTexturesCom_FlowersDried0021_2_alphamasked_S.png?1541331997559" height="11" width = "11" position= "2 6.5 -3" opacity="0.8">
      <a-animation easing="linear"  attribute="rotation" direction="alternate" dur="5000" to="-360 0 0" repeat="indefinite" begin="click"></a-animation>
      </a-sphere>
      
      <!-- floor -->
      <a-plane src="https://cdn.glitch.com/81f6e8d1-c891-43ef-8d08-aab8781327e8%2Fpink%20clouds2.png?1541296635158" rotation="-90 0 0" height="100" width="100" static-body>
        
      </a-plane>  
      
     <!-- <a-sky src="https://cdn.glitch.com/81f6e8d1-c891-43ef-8d08-aab8781327e8%2FTexturesCom_Aerials0116_M.jpg?1541264806068"></a-sky>-->
      <a-sky id="floor" src="https://cdn.glitch.com/81f6e8d1-c891-43ef-8d08-aab8781327e8%2FTexturesCom_WaterPlain0019_1_M.jpg?1541292043972">
      <a-animation easing="linear" attribute="rotation" direction="alternate" dur="80000" to="0 0 -170" repeat="indefinite" ></a-animation>
      </a-sky>
    </a-scene>
  </body>
</html>

<!--
<script>
  registerAframeClickDragComponent(window.AFRAME);
</script>

<script>
    var draggable = document.querySelector("[click-drag]");
    console.log("Draggable: ");
    console.log(draggable);
    draggable.addEventListener('dragstart', function(dragInfo) {
      draggable.components['dynamic-body'].pause();
    });
    draggable.addEventListener('dragend', function(dragInfo) {
      var x = dragInfo.detail.velocity.x;
      var y = dragInfo.detail.velocity.y;
      var z = dragInfo.detail.velocity.z;
      draggable.components['dynamic-body'].play();
      draggable.body.velocity.set(x, y, z);
      console.log('drag end', dragInfo.detail.velocity);
    });
  </script>-->

<script>
  $(document).ready(function() {

    function rand_play() {
      var entity = document.querySelector('#chaise');
      //alert("Entity: "+entity)
      if(entity != null) {
        entity.components.sound.playSound();
      }

    };

    function loop() {
        var min = 5;
        var max = 10;
        var rand = Math.floor(Math.random() * (max - min + 1) + min);
        rand_play();
        set_timeout(loop, 1000 * rand);
    }

    loop();
  });
</script>
